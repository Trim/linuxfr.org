= article_for news do |c|
  - c.title = link_to(news.title, news)
  - c.meta  = news_posted_by(news)
  - c.image = link_to(image_tag(news.section.image, alt: news.section.title, title: news.section.title), news.section)
  - if current_account && current_account.can_update?(news)
    - c.actions = link_to("Modifier", [:moderation, news], class: 'action')
  - c.body  = capture do
    = news.body
    - if news.figure_image?
      - if defined?(with_second_part) and with_second_part
        - srcset = news.figure_image.srcset
      - elsif defined?(on_ppp) and on_ppp
        - srcset = news.figure_image.srcset("starred")
      - else
        - srcset = news.figure_image.srcset("thumb")
      .news-figure
        %figure
          %img{src: news.figure_image.url, alt: "#{news.figure_alternative}", srcset: srcset}
          %figcaption #{news.figure_caption}
    - if defined?(with_second_part) && with_second_part
      = news.second_part
      %h2 Aller plus loin
      %ul.links
        = render news.links.select([:id, :lang, :title, :url])
